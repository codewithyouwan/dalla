<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>履歴書</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Noto Sans JP', sans-serif;
      margin: 20px;
      font-size: 13px;
      color: #333;
    }
    .header-note {
      text-align: right;
      font-size: 11px;
      margin-bottom: 5px;
      padding-right: 10px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      table-layout: fixed;
      overflow: hidden;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      vertical-align: middle;
      text-align: center;
    }
    th {
      background-color: #e8e8e8;
      font-weight: normal;
    }
    .section-education {
      background-color: #d0e0ff;
      font-weight: bold;
    }
    .section-aspirations {
      background-color: #e8e8e8;
    }
    .section-languages-tools {
      background-color: #fce4ec;
      font-weight: bold;
    }
    .section-internships {
      background-color: #e6ffe6;
      font-weight: bold;
    }
    .section-projects {
      background-color: #fff3cd;
      font-weight: bold;
    }
    .section-fields-interest {
      background-color: #f3e5f5;
      font-weight: bold;
    }
    .section-japan-companies {
      background-color: #ffcccc;
      font-weight: bold;
    }
    .section-career-dev {
      background-color: #e0f7fa;
      font-weight: bold;
    }
    .th-white {
      background-color: #fff;
    }
    .photo {
      max-width: 100px;
      height: 120px;
      object-fit: cover;
      display: block;
      margin: 0 auto;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    .photo-placeholder {
      width: 100px;
      height: 120px;
      border: 1px solid #ddd;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      color: #999;
    }
    .text-left {
      text-align: left;
    }
    .indent {
      padding-left: 20px;
    }
    .footer {
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      margin-top: 10px;
      font-size: 12px;
      padding: 0 10px;
    }
    .footer span:nth-child(2) {
      flex-grow: 1;
      text-align: center;
    }
    .employee-row {
      height: 30px;
    }
    .name-cell {
      font-size: 16px;
    }
    @page {
      margin: 20mm;
      @bottom-right {
        content: counter(page) " / " counter(pages);
        font-family: 'Noto Sans JP', sans-serif;
        font-size: 10px;
        color: #333;
      }
    }
  </style>
</head>
<body>
  <div class="header-note">
    *個人情報に付きお取り扱いご注意願います。
  </div>
  <!-- Header Table -->
  <table>
    <colgroup>
      <col class="col1" style="width: 16%;">
      <col class="col2" style="width: 12%;">
      <col class="col3" style="width: 26%;">
      <col class="col4" style="width: 26%;">
      <col class="col5" style="width: 20%;">
    </colgroup>
    <tr class="employee-row">
      <th colspan="2">No.</th>
      <td colspan="2" class="text-left">{{employeeNumber}}</td>
      <td rowspan="3">
        {{#if photo}}
          <img class="photo" src="{{photo}}" alt="Profile Photo">
        {{else}}
          <div class="photo-placeholder">Your Photo</div>
        {{/if}}
      </td>
    </tr>
    <tr>
      <th colspan="2">氏名</th>
      <td colspan="2" class="text-left name-cell">{{selectedName}}</td>
    </tr>
    <tr>
      <th colspan="2">出身地</th>
      <td colspan="2" class="text-left">{{hometown}}</td>
    </tr>
  </table>
  <!-- Career Aspirations Table -->
  <table>
    <colgroup>
      <col style="width: 10%;">
      <col style="width: 18%;">
      <col style="width: 72%;">
    </colgroup>
    <tr>
      <th rowspan="4" class="section-aspirations">志向</th>
      <th>希望業界</th>
      <td class="text-left">{{#if desiredIndustry}}{{desiredIndustry}}{{else}}未入力{{/if}}</td>
    </tr>
    <tr>
      <th>希望職種</th>
      <td class="text-left">{{#if desiredJobType}}{{desiredJobType}}{{else}}未入力{{/if}}</td>
    </tr>
    <tr>
      <th>目指す役割</th>
      <td class="text-left">{{#if targetRole}}{{targetRole}}{{else}}未入力{{/if}}</td>
    </tr>
    <tr>
      <th>ワークスタイル</th>
      <td class="text-left">{{#if workStyle}}{{workStyle}}{{else}}未入力{{/if}}</td>
    </tr>
  </table>
  <!-- Education Table -->
  <table>
    <colgroup>
      <col style="width: 20%;">
      <col style="width: 60%;">
      <col style="width: 15%;">
    </colgroup>
    <tr>
      <th colspan="3" class="section-education">学歴</th>
    </tr>
    {{#each education}}
    <tr>
      <td>{{year}}</td>
      <td class="text-left">
        {{institution}}
        {{#if major}}
          <br>専攻: {{major}}
        {{/if}}
      </td>
      <td class="text-left">{{degree}}</td>
    </tr>
    {{/each}}
  </table>
  <!-- Languages and Tools Table -->
  <table>
    <colgroup>
      <col style="width: 20%;">
      <col style="width: 80%;">
    </colgroup>
    <tr>
      <th colspan="5" class="section-languages-tools">言語/開発ツール</th>
    </tr>
    <tr>
      <th>言語</th>
      <td class="text-left">{{#if languages}}{{languages}}{{else}}未入力{{/if}}</td>
    </tr>
    <tr>
      <th>開発ツール</th>
      <td class="text-left">{{#if devTools}}{{devTools}}{{else}}未入力{{/if}}</td>
    </tr>
  </table>
  <!-- Internships Table -->
  {{#if internships.length}}
  <table>
    <colgroup>
      <col style="width: 20%;">
      <col style="width: 80%;">
    </colgroup>
    <tr>
      <th colspan="5" class="section-internships">インターンシップ / Internships</th>
    </tr>
    {{#each internships}}
    <tr>
      <th colspan="5" class="section-internships">インターンシップ {{math @index "+" 1}}</th>
    </tr>
    <tr>
      <th class="text-left th-white">タイトル</th>
      <td class="text-left">{{title}}</td>
    </tr>
    <tr>
      <th class="text-left th-white">企業</th>
      <td class="text-left">{{company}}</td>
    </tr>
    <tr>
      <th class="text-left th-white">期間</th>
      <td class="text-left">{{period}}</td>
    </tr>
    <tr>
      <th class="text-left th-white">概要</th>
      <td class="text-left">{{description}}</td>
    </tr>
    <tr>
      <th class="text-left th-white">エンドユーザー</th>
      <td class="text-left">アプリを使用する一般ユーザー</td>
    </tr>
    <tr>
      <th class="text-left th-white">内容</th>
      <td class="text-left">{{description}}</td>
    </tr>
    <tr>
      <th class="text-left th-white">具体的な内容</th>
      <td class="text-left">
        <b>果たした役割：</b><br>
        <span class="indent">{{role}}</span>
      </td>
    </tr>
    <tr>
      <th class="text-left th-white">課題</th>
      <td class="text-left">
        <span class="indent">• {{challenges}}</span>
      </td>
    </tr>
    <tr>
      <th class="text-left th-white">得られた成果</th>
      <td class="text-left">{{outcome}}</td>
    </tr>
    <tr>
      <th class="text-left th-white">直面した課題</th>
      <td class="text-left">{{challenges}}</td>
    </tr>
    {{/each}}
  </table>
  {{/if}}
  <!-- Projects Table -->
  {{#if projects.length}}
  <table>
    <colgroup>
      <col style="width: 20%;">
      <col style="width: 80%;">
    </colgroup>
    <tr>
      <th colspan="5" class="section-projects">プロジェクト / Projects</th>
    </tr>
    {{#each projects}}
    <tr>
      <th colspan="5" class="section-projects">プロジェクト {{math @index "+" 1}}</th>
    </tr>
    <tr>
      <th class="text-left th-white">タイトル</th>
      <td class="text-left">{{title}}</td>
    </tr>
    <tr>
      <th class="text-left th-white">期間</th>
      <td class="text-left">{{period}}</td>
    </tr>
    <tr>
      <th class="text-left th-white">概要</th>
      <td class="text-left">{{description}}</td>
    </tr>
    <tr>
      <th class="text-left th-white">内容</th>
      <td class="text-left">{{description}}</td>
    </tr>
    <tr>
      <th class="text-left th-white">具体的な内容</th>
      <td class="text-left">
        <b>果たした役割：</b><br>
        <span class="indent">{{role}}</span>
      </td>
    </tr>
    <tr>
      <th class="text-left th-white">課題</th>
      <td class="text-left">
        <span class="indent">• {{challenges}}</span>
      </td>
    </tr>
    <tr>
      <th class="text-left th-white">得られた成果</th>
      <td class="text-left">{{outcome}}</td>
    </tr>
    <tr>
      <th class="text-left th-white">直面した課題</th>
      <td class="text-left">{{challenges}}</td>
    </tr>
    {{/each}}
  </table>
  {{/if}}
  <!-- Fields of Interest Table -->
  <table>
    <colgroup>
      <col style="width: 33.33%;">
      <col style="width: 33.33%;">
      <col style="width: 33.34%;">
    </colgroup>
    <tr>
      <th colspan="3" class="section-fields-interest">興味ある分野（左から1番→3番）</th>
    </tr>
    <tr>
      <td class="text-left">{{#if interestFields.[0]}}{{interestFields.[0]}}{{else}}未指定{{/if}}</td>
      <td class="text-left">{{#if interestFields.[1]}}{{interestFields.[1]}}{{else}}未指定{{/if}}</td>
      <td class="text-left">{{#if interestFields.[2]}}{{interestFields.[2]}}{{else}}未指定{{/if}}</td>
    </tr>
  </table>
  <!-- Japanese Companies Table -->
  <table>
    <colgroup>
      <col style="width: 20%;">
      <col style="width: 80%;">
    </colgroup>
    <tr>
      <th colspan="5" class="section-japan-companies">日本企業について</th>
    </tr>
    <tr>
      <th>番興味がある点</th>
      <td class="text-left">{{japanCompanyInterest}}</td>
    </tr>
    <tr>
      <th>習得したいこと</th>
      <td class="text-left">{{japanCompanySkills}}</td>
    </tr>
  </table>
  <!-- Career Development Table -->
  <table>
    <colgroup>
      <col style="width: 20%;">
      <col style="width: 80%;">
    </colgroup>
    <tr>
      <th colspan="5" class="section-career-dev">キャリアアップについて</th>
    </tr>
    <tr>
      <th >働く上での価値観</th>
      <td class="text-left">{{careerPriorities}}</td>
    </tr>
    <tr>
      <th>日本語レベル</th>
      <td class="text-left">{{selectedSuggestion}}</td>
    </tr>
    <tr>
      <th >趣味</th>
      <td class="text-left">{{hobby}}</td>
    </tr>
  </table>
  <div class="footer">
    <span>{{employeeNumber}}</span>
    <span>モラブ阪神工業株式会社</span>
    <span class="page-number"></span>
  </div>
</body>
</html>